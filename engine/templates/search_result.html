{% extends "home.html" %}
{% load crispy_forms_tags %}
{% load extended_tags %}
{% block set_list %}

    {% if error != '' %}

        <h1>Error</h1>

    {% else %}
        {% for item, image in items %}
            <div style="" class="row">
                <div class="cold-sm-12">
                    <img style="max-height:200px;" src="{{image}}">
                </div>
            </div>

        {% endfor %}

    {% endif %}

    {% block script %}
    <script>

       $(document).on('change','#id_condition_select',function(){
          var product_id = this.dataset.product_id;

           $.ajax({
            url: '/ajax/info/',
            data: {
              'product_id': product_id
            },

            dataType: 'json',
            success: function (data) {
              alert("D" + data.card);

            }
          });

       });
       $(document).on('change','#id_language_select',function(){console.log(this.value)});
       $(document).on('change','#id_foil_select',function(){console.log(this.value)});

  </script>
{% endblock %}


 <!-- <script>
  var init_condition = 'near mint';
  var init_language = 'english';
  var init_foil = false;
  var dict = {{model|safe}};
  

  function conditionChange(obj){
    var condition = obj.value;
    init_condition = condition;
    var idee = obj.id;
    var item_condition = dict[idee][init_foil][init_language][condition]['condition'];
    var item_quantity = dict[idee][init_foil][init_language][condition]['quantity'];
    var item_price = dict[idee][init_foil][init_language][condition]['price'];

    document.getElementById('price_' + obj.id).innerText = '$' + item_price + " " + "(" + (item_quantity) + " in stock)";
  }


  function languageChange(obj){
    var language = obj.value;
    init_language = language;
    var idee = obj.id;
    var item_condition = dict[idee][init_foil][language][init_condition]['condition'];
    var item_price = dict[idee][init_foil][language][init_condition]['price'];
    var item_quantity = dict[idee][init_foil][language][init_condition]['quantity'];

    document.getElementById('price_' + obj.id).innerText = '$' + item_price + " " + "(" + (item_quantity) + " in stock)";

  }


  function foilChange(obj){
    var foil = obj.value;
    init_foil = foil;
    var idee = obj.id;
    var item_condition = dict[idee][foil][init_language][init_condition]['condition'];
    var item_price = dict[idee][foil][init_language][init_condition]['price'];
    var item_quantity = dict[idee][foil][init_language][init_condition]['quantity'];
    document.getElementById('price_' + obj.id).innerText = '$' + item_price + " " + "(" + (item_quantity) + " in stock)";

  }




</script>   -->   


{% endblock %}



  



